{{ $featured_image := partials.Include "func/GetFeaturedImage.html" . }}

<article class="bb b--black-10">
  <div class="db pv4 ph3 ph0-l dark-gray no-underline">
    <div class="flex-column flex-row-ns flex">

      {{ if $featured_image }}
        <div class="{{ compare.Conditional (compare.Eq $.Site.Language.LanguageDirection "rtl") "pl3-ns" "pr3-ns" }} mb4 mb0-ns w-100 w-40-ns">
          <!-- 图片：永远进 Hugo 页面 -->
          <a href="{{ .RelPermalink }}" class="db grow">
            <img src="{{ $featured_image }}" class="img" alt="image from {{ .Title }}">
          </a>
        </div>
      {{ end }}

      <div class="w-100{{ if $featured_image }} w-60-ns {{ compare.Conditional (compare.Eq $.Site.Language.LanguageDirection "rtl") "pr3-ns" "pl3-ns" }}{{ end }}">

        <h1 class="f3 fw1 athelas mt0 lh-title">
          <!-- 标题：永远进 Hugo 页面 -->
          <a href="{{ .RelPermalink }}" class="color-inherit dim link">
            {{ .Title }}
          </a>
        </h1>

        <div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
          {{ .Summary }}
        </div>

        {{ with .Params.author | compare.Default .Site.Params.author }}
          <p class="f6 lh-copy mv0">By {{ . }}</p>
        {{ end }}

        <!-- 按钮区：双入口 -->
        <div class="mt3 flex flex-wrap">

          <!-- Hugo 页面 -->
          <a href="{{ .RelPermalink }}"
             class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link ph3 pv2 mr2 mb2">
            {{ $.Param "read_more_copy" | compare.Default (lang.Translate "readMore") }}
          </a>

          <!-- 公众号原文 -->
          {{ if .Params.externalLink }}
            <a href="{{ .Params.externalLink }}"
               target="_blank"
               rel="noopener"
               class="ba b--dark-green bg-washed-green br2 dark-green dib f7 hover-bg-light-green link ph3 pv2 mb2">
              去公众号阅读 →
            </a>
          {{ end }}

        </div>

      </div>
    </div>
  </div>
</article>